(this.webpackJsonpfile_upload=this.webpackJsonpfile_upload||[]).push([[0],{132:function(e,t,a){e.exports=a(250)},137:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},250:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),i=a.n(r),s=(a(137),a(128)),o=a(22),c=a(42),u=a(43),m=a(54),d=a(45),f=a(44),p=(a(138),a(139),a(251)),h=a(253),E=a(259),g=a(260),b=a(256),v=a(258),y=a(255),C=a(262),F=(a(140),function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"borderColorLight",value:function(){var e=document.getElementById("fileDropBox");e.style.borderColor="#379FFF",e.style.backgroundColor="#F8F8F8"}},{key:"borderColorDim",value:function(){var e=document.getElementById("fileDropBox");e.style.borderColor="#D4D4D4",e.style.backgroundColor="#FFFFFF"}},{key:"handleAddFile",value:function(e){var t=e.currentTarget.files;if(t){for(var a=this.props.files,n=[],l=0;l<t.length;l++)a.indexOf(t[l].name)>-1?y.a.warn(t[l].name+" already exists."):n.push(t[l]);for(var r=function(e){a.push(n[e].name);var t=new FileReader;t.onload=function(t){localStorage.setItem(n[e].name,t.target.result)},t.readAsText(n[e],"gb2312"),y.a.success(n[e].name+" has been added.")},i=0;i<n.length;i++)r(i);this.props.setFiles(a),e.target.value=[]}}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"fileDropBox",id:"fileDropBox",onMouseEnter:function(){return e.borderColorLight()},onMouseLeave:function(){return e.borderColorDim()}},l.a.createElement("span",{className:"uploadDragIcon"},l.a.createElement(E.a,null)),l.a.createElement("span",{className:"uploadTips"},l.a.createElement(C.a,null)," \xa0Click or drag file to this area to upload"),l.a.createElement("input",{type:"file",id:"fileInput",title:"",multiple:!0,onDragEnter:function(){return e.borderColorLight()},onDragLeave:function(){return e.borderColorDim()},onDrop:function(){return e.borderColorDim()},onChange:function(t){return e.handleAddFile(t)}}))}}]),a}(l.a.Component)),k=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement(F,{files:this.props.files,setFiles:this.props.setFiles})}}]),a}(l.a.Component),O=a(257),j=a(261),I=(a(159),function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"itemClick",value:function(e){this.props.showFileContent(e)}},{key:"handleDelete",value:function(e){for(var t=[],a=0;a<this.props.files.length;a++)this.props.files[a]!==e&&t.push(this.props.files[a]);this.props.setFiles(t),localStorage.removeItem(e),y.a.success(e+" has been deleted.")}},{key:"render",value:function(){var e=this,t=this.props.files.map((function(t){return l.a.createElement("li",{key:t.toString()},l.a.createElement("span",{style:{display:"inline-block",width:"80%"},onClick:function(){return e.itemClick(t)}},l.a.createElement("span",null,l.a.createElement(O.a,null)),l.a.createElement("span",{className:"fName"},t)),l.a.createElement("span",{className:"fDelIcon",onClick:function(){return e.handleDelete(t)}},l.a.createElement(j.a,null)))}));return l.a.createElement("ul",{className:"fUl"},t)}}]),a}(l.a.Component)),N=(a(160),a(252)),x=a(254),D=a(97),w=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={fileContent:""},n.showFileContent=n.showFileContent.bind(Object(m.a)(n)),n.handleReset=n.handleReset.bind(Object(m.a)(n)),n.formRef=l.a.createRef(),n}return Object(u.a)(a,[{key:"showFileContent",value:function(e){for(var t=localStorage.getItem(e).split("\n"),a={},n=0;n<t.length;n++){var l=t[n].split(":");a[l[0]]=l[1]}this.setState({fileContent:localStorage.getItem(e)}),this.formRef.current.setFieldsValue(a)}},{key:"handleReset",value:function(){this.formRef.current.resetFields()}},{key:"render",value:function(){return l.a.createElement("div",{className:"extractPageComponent"},l.a.createElement("div",{className:"extractLeft"},l.a.createElement("div",{className:"listTitle"},l.a.createElement("span",null,"File List")),l.a.createElement(I,{files:this.props.files,setFiles:this.props.setFiles,showFileContent:this.showFileContent})),l.a.createElement("div",{className:"extractRight"},l.a.createElement("div",{className:"extractTop"},l.a.createElement("textarea",{id:"fileContent",value:this.state.fileContent||"",readOnly:!0})),l.a.createElement("div",{className:"extractBottom"},l.a.createElement("div",{className:"infoFormBox"},l.a.createElement(N.a,{ref:this.formRef,labelCol:{span:6}},l.a.createElement(N.a.Item,{name:"Name",label:"Name",rules:[{required:!0}]},l.a.createElement(x.a,null)),l.a.createElement(N.a.Item,{name:"Age",label:"Age",rules:[{required:!0}]},l.a.createElement(x.a,null)),l.a.createElement(N.a.Item,{name:"Tel",label:"Tel",rules:[{required:!0}]},l.a.createElement(x.a,null)),l.a.createElement(N.a.Item,{name:"Email",label:"Email",rules:[{required:!0}]},l.a.createElement(x.a,null)),l.a.createElement(N.a.Item,{name:"City",label:"City",rules:[{required:!0}]},l.a.createElement(x.a,null)),l.a.createElement(N.a.Item,{name:"Intention",label:"Intention",rules:[{required:!0}]},l.a.createElement(x.a,null)),l.a.createElement(N.a.Item,{wrapperCol:{offset:12,span:16}},l.a.createElement(D.a,{type:"primary",htmlType:"submit"},"Submit"),l.a.createElement(D.a,{htmlType:"button",onClick:this.handleReset},"Reset")))))))}}]),a}(l.a.Component),S=p.a.Header,R=p.a.Sider,B=p.a.Content,T=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).handleResize=function(e){n.setState({height:e.target.innerHeight})},n.toggle=function(){n.setState({collapsed:!n.state.collapsed})};for(var l=[],r=0;r<localStorage.length;r++)l.push(localStorage.key(r));return n.state={collapsed:!1,curPage:"upload",files:l,height:window.innerHeight},n.setFiles=n.setFiles.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize.bind(this))}},{key:"setPage",value:function(e){this.setState({curPage:e})}},{key:"setFiles",value:function(e){this.setState({files:e})}},{key:"render",value:function(){var e,t=this;switch(this.state.curPage){case"upload":e=l.a.createElement(k,{files:this.state.files,setFiles:this.setFiles});break;case"extract":e=l.a.createElement(w,{files:this.state.files,setFiles:this.setFiles})}return l.a.createElement(p.a,null,l.a.createElement(R,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},l.a.createElement("div",{className:"logo"}),l.a.createElement(h.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},l.a.createElement(h.a.Item,{key:"1",icon:l.a.createElement(E.a,null),onClick:function(){return t.setPage("upload")}},"Add new files"),l.a.createElement(h.a.Item,{key:"2",icon:l.a.createElement(g.a,null),onClick:function(){return t.setPage("extract")}},"My files"))),l.a.createElement(p.a,{className:"site-layout"},l.a.createElement(S,{className:"site-layout-background",style:{padding:0}},l.a.createElement(this.state.collapsed?b.a:v.a,{className:"trigger",onClick:this.toggle})),l.a.createElement(B,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:this.state.height-115}},e)))}}]),a}(l.a.Component);var L=function(){return l.a.createElement(s.a,null,l.a.createElement("div",null,l.a.createElement(o.a,{exact:!0,path:"/",component:T})))};i.a.render(l.a.createElement(L,null),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.10bac716.chunk.js.map